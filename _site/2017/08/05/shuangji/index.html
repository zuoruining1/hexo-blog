<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keywords"  content="">
    <meta name="theme-color" content="">
    
    <title>双机环境配置 - 左瑞宁的个人网站| Ruining.z Blog</title>

    <!-- Web App Manifest -->
    <link rel="manifest" href="/pwa/manifest.json">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/img/favicon.ico">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="http://localhost:4000/2017/08/05/shuangji/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Ruining.z Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
                    
                    <li>
                        <a href="/about/">About</a>
                    </li>
                    
                    <li>
                        <a href="/tags/">Tags</a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    var __HuxNav__ = {
        close: function(){
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        },
        open: function(){
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }

    // Bind Event
    $toggle.addEventListener('click', function(e){
        if ($navbar.className.indexOf('in') > 0) {
            __HuxNav__.close()
        }else{
            __HuxNav__.open()
        }
    })

    /**
     * Since Fastclick is used to delegate 'touchstart' globally
     * to hack 300ms delay in iOS by performing a fake 'click',
     * Using 'e.stopPropagation' to stop 'touchstart' event from 
     * $toggle/$collapse will break global delegation.
     * 
     * Instead, we use a 'e.target' filter to prevent handler
     * added to document close HuxNav.  
     *
     * Also, we use 'click' instead of 'touchstart' as compromise
     */
    document.addEventListener('click', function(e){
        if(e.target == $toggle) return;
        if(e.target.className == 'icon-bar') return;
        __HuxNav__.close();
    })
</script>


    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/post-build-a-blog.jpg" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/post-build-a-blog.jpg')
    }

    
    header.intro-header .header-mask{
        width: 100%;
        height: 100%;
        position: absolute;
        background: rgba(0,0,0, 0.3);
    }
    
</style>
<header class="intro-header" >
    <div class="header-mask"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/tags/#linux" title="linux">linux</a>
                        
                        <a class="tag" href="/tags/#unix" title="unix">unix</a>
                        
                    </div>
                    <h1>双机环境配置</h1>
                    
                    
                    <h2 class="subheading"></h2>
                    
                    <span class="meta">Posted by Ruining.z on August 5, 2017</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

				<h2 id="配置etcsecuritylimits文件">配置/etc/security/limits文件</h2>
<p>执行此任务可以在/etc/security/limits文件中设置default的各种限制参数。
背景信息</p>

<p>执行此任务可以在“/etc/security/limits”文件中设置default的各种限制参数。</p>

<p>各参数含义可以参考该文件中的相关注释信息。</p>

<p>操作步骤</p>

<p>以root用户登录双机中主节点。
编辑“/etc/security/limits”文件。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>#vi /etc/security/limits
</code></pre>
</div>

<p>修改文件中以下内容：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>default:
        fsize =-1
        core =-1
        cpu =-1
        data =-1
        rss =-1
        stack =200000
        nofiles =-1
</code></pre>
</div>
<p>-1表示无限制。</p>

<p>重新启动系统。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>#shutdown -Fr
</code></pre>
</div>

<p>以root用户登录双机中备节点，重复执行2～3。</p>

<p>##调整用户License数</p>

<p>执行此任务可以调整一个用户允许的最大登录数。例如，如果设置为2，表示同一用户只能同时登录2次对服务器进行操作。</p>

<p>背景信息</p>

<p>执行此任务可以调整一个用户允许的最大登录数。例如，如果设置为2，表示同一用户只能同时登录2次对服务器进行操作。</p>

<p>操作步骤</p>

<p>以root用户登录双机中主节点。
启动smitty菜单导航工具。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># smitty
</code></pre>
</div>

<p>选择导航菜单，按“Enter”。
—&gt; System Environments
—&gt;Change/Show Number of Licensed Users
屏幕显示信息如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>                      Change / Show Number of Licensed Users

Type or select values in entry fields.
Press Enter AFTER making all desired changes.

                                                    [Entry Fields]
 Maximum number of FIXED licenses                   [32767]                             #
 Number of AVAILABLE FIXED licenses                  32764
 IMMEDIATELY update AVAILABLE FIXED licenses         no                                 +
 FLOATING licensing                                  off                                    +

F1=Help               F2=Refresh             F3=Cancel              F4=List
Esc+5=Reset           Esc+6=Command          Esc+7=Edit            Esc+8=Image
Esc+9=Shell           Esc+0=Exit             Enter=Do
</code></pre>
</div>

<p>选择“Maximum number of FIXED licenses”，在对应的值域框中输入用户的License数，如32767，按“Enter”。
退出smitty菜单导航工具。
重新启动系统。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>#shutdown -Fr
</code></pre>
</div>

<p>以root用户登录双机中备节点，重复执行2～6。</p>

<p>##调整最大进程数和I/O参数</p>

<p>执行此任务可以调整一个用户允许启动的进程数、每个文件输入输出的频率以及设置CORE dump是否启用。</p>

<p>背景信息</p>

<p>执行此任务可以调整一个用户允许启动的进程数、每个文件输入输出的频率以及设置CORE dump是否启用。</p>

<p>操作步骤</p>

<p>以root用户登录双机中主节点。
启动smitty菜单导航工具。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># smitty
</code></pre>
</div>

<p>选择导航菜单，按“Enter”。
—&gt; System Environments
—&gt; Change/Show Characteristics of Operating System
屏幕显示信息如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>                Change / Show Characteristics of Operating System

Type or select values in entry fields.
Press Enter AFTER making all desired changes.

                                                    [Entry Fields]
 System ID                                           0X80000D1674700000
 Partition ID                                        0X80000D1674700001
 Maximum number of PROCESSES allowed per user       [512]                             +#
 Maximum number of pages in block I/O BUFFER CACHE  [20]                              +#
 Maximum Kbytes of real memory allowed for MBUFS    [0]                                +#
Automatically REBOOT system after a crash           true                                +
Continuously maintain DISK I/O history              false                               +
HIGH water mark for pending write I/Os per file    [33]                              +#
LOW water mark for pending write I/Os per file     [24]                              +#
Amount of usable physical memory in Kbytes          3883008
State of system keylock at boot time                normal
Enable full CORE dump                               true                                    +
Use pre-430 style CORE dump                         false                                  +
Pre-520 tuning compatibility mode                   disable                              +
 Maximum login name length at boot time             [9]                                  +#
 Stack Execution Disable (SED) Mode                  select                               +
ARG/ENV list size in 4K byte blocks                [6]                                   +#
Enable CPU Guard                                    enable                                   +
Processor capacity increment                        1.00
Partition is capped                                 true
Partition is dedicated                              true
Entitled processor capacity                         2.00
Minimum potential processor capacity                1.00
Maximum potential processor capacity                2.00
Variable processor capacity weight                  0

F1=Help               F2=Refresh             F3=Cancel             F4=List
Esc+5=Reset           Esc+6=Command          Esc+7=Edit            Esc+8=Image
Esc+9=Shell           Esc+0=Exit             Enter=Do
</code></pre>
</div>

<p>配置最大进程数和I/O参数，按“Enter”。
配置“Maximum number of PROCESSES allowed per user”为“512”。
配置“HIGH water mark for pending write I/Os per file”为“33”。
配置“LOW water mark for pending write I/Os per file”为“24”。
配置“Enable full CORE dump”为“true”。
退出smitty菜单导航工具。
以root用户登录双机中备节点，重复执行2～5。</p>

<p>##调整异步I/O参数</p>

<p>执行此任务可以调整异步I/O参数，以满足数据库对输入输出的要求。</p>

<p>背景信息</p>

<p>执行此任务可以调整异步I/O参数，以满足数据库对输入输出的要求。</p>

<p>注意：
在安装Oracle数据库服务端和客户端的小型机上都必须调整异步I/O参数。</p>

<p>操作步骤</p>

<p>以root用户登录双机中主节点。
调整aio
启动smitty菜单导航工具。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># smitty aio
</code></pre>
</div>

<p>选择导航菜单，按“Enter”。</p>

<p>—&gt; Change/Show Characteristics of Asynchronous I/O
屏幕显示信息如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>                 Change/Show Characteristics of Asynchronous I/O

Type or select values in entry fields.
Press Enter AFTER making all desired changes.

                                                    [Entry Fields]
 MINIMUM number of servers                          [1]                               #
  MAXIMUM number of servers per cpu                [50]                              #
 maximum number of REQUESTS                         [4096]                           #
server PRIORITY                                      [39]                               #
STATE to be configured at system restart       available                        +
 State of fast path                                  enable                           +

F1=Help               F2=Refresh             F3=Cancel             F4=List
Esc+5=Reset           Esc+6=Command          Esc+7=Edit            Esc+8=Image
Esc+9=Shell           Esc+0=Exit             Enter=Do
</code></pre>
</div>

<p>##配置异步I/O参数，按“Enter”。</p>

<p>配置“MINIMUM number of servers”为“1”。
配置“MAXIMUM number of server per cpu”为“50”。
配置“STATE to be configured at system restart”为“available”。
配置“Stat of fast path”为“enable”。
调整posixaio，
启动smitty菜单导航工具</p>

<div class="highlighter-rouge"><pre class="highlight"><code>#smitty posixaio
</code></pre>
</div>

<p>选择导航菜单，按“Enter”。
—&gt; Change/Show Characteristics of Asynchronous I/O
屏幕显示信息如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>                  Change/Show Characteristics of Asynchronous I/O

Type or select values in entry fields.
Press Enter AFTER making all desired changes.

                                                    [Entry Fields]
 MINIMUM number of servers                          [1]                               #
MAXIMUM number of servers per cpu                [50]                              #
maximum number of REQUESTS                         [4096]                           # 
server PRIORITY                                      [39]                               #
STATE to be configured at system restart       available                        +
State of fast path                                  enable                           +

F1=Help               F2=Refresh             F3=Cancel             F4=List
Esc+5=Reset           Esc+6=Command          Esc+7=Edit            Esc+8=Image
Esc+9=Shell           Esc+0=Exit             Enter=Do
</code></pre>
</div>

<p>配置异步I/O参数，按“Enter”。
配置“MINIMUM number of servers”为“1”。
配置“MAXIMUM number of server per cpu”为“50”。
配置“STATE to be configured at system restart”为“available”。
配置“Stat of fast path”为“enable”。
退出smitty菜单导航工具。
重新启动系统。
    # shutdown -Fr</p>

<p>以root用户登录双机中备节点，重复执行2～5。</p>

<p>##调整文件系统占用内存的比例</p>

<p>执行此任务可以调整文件系统占用内存的比例。</p>

<p>背景信息</p>

<p>在AIX5.3中，文件系统占用内存的比例缺省值为上限80％，下限20％，非严格上限模式。相对处理文件系统处，ISMP系统处理业务更多一些，故优先保证业务进程使用的内存。</p>

<p>为避免文件系统占用内存过大，压缩进程本身可使用的内存空间，导致Paging Space利用过高，一般将文件系统占用内存的比例改为上限20％，下限10％，非严格上限模式。</p>

<p>操作步骤</p>

<p>以root用户登录双机中主节点。
##调整文件系统占用内存的比例。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># vmo -p -o maxclient%=20
</code></pre>
</div>

<p>屏幕显示信息如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Setting maxclient% to 20 in nextboot file
Setting maxclient% to 20

# vmo -p -o maxperm%=20
</code></pre>
</div>

<p>屏幕显示信息如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Setting maxperm% to 20 in nextboot file
Setting maxperm% to 20

# vmo -p -o minperm%=10
</code></pre>
</div>

<p>屏幕显示信息如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Setting minperm% to 10 in nextboot file
Setting minperm% to 10
</code></pre>
</div>

<p>检查文件系统占用内存的比例是否配置成功。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># vmo -a
</code></pre>
</div>

<p>在显示信息中查看maxclient%、maxperm%和minperm%的值是否设置正确。
检查“/etc/tunables/nextboot”文件，确认是否有以下内容。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># vi /etc/tunables/nextboot
</code></pre>
</div>

<p>确保文件中存在以下内容：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>vmo:
strict_maxclient = "1"
    lru_file_repage = "0"
    strict_maxperm = "0"
    minperm% = "10"
    maxperm% = "20"
    maxclient% = "20" 如果“/etc/tunables/nextboot”文件中没有文件系统占用内存的相关配置，请修改“/etc/rc.net”文件。

# vi /etc/rc.net
</code></pre>
</div>

<p>在文件中添加以下内容：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>if [ -f /usr/sbin/no ] ; then
    /usr/sbin/no -o extendednetstats=0 &gt;&gt;/dev/null 2&gt;&amp;1
    vmo -p -o maxclient%=20 &gt;&gt;/dev/null 2&gt;&amp;1
    vmo -p -o maxperm%=20 -o minperm%=10 &gt;&gt;/dev/null 2&gt;&amp;1
fi
</code></pre>
</div>

<p>重新启动系统。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># shutdown -Fr
</code></pre>
</div>

<p>以root用户登录双机中备节点，重复执行2～6。</p>

<p>##调整TCP超时应答选项</p>

<p>执行此任务可以调整TCP超时应答选项fasttimo。</p>

<p>背景信息</p>

<p>执行此任务可以调整TCP超时应答选项fasttimo。</p>

<p>操作步骤</p>

<p>以root用户登录双机中主节点。
调整TCP超时应答选项。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># no -po fasttimo=50
</code></pre>
</div>

<p>屏幕显示信息如下：</p>

<p>Setting fasttimo to 50
Setting fasttimo to 50 in nextboot file</p>

<p>检查TCP超时应答选项是否配置成功。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># no -a | grep fasttimo
</code></pre>
</div>

<p>在显示信息中查看fasttimo的值是否设置正确。</p>

<p>重新启动系统。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># shutdown -Fr
</code></pre>
</div>

<p>以root用户登录双机中备节点，重复执行2～4。</p>

<p>##调整TCP/IP协议栈参数</p>

<p>执行此任务可以调整TCP/IP协议栈的相关参数。</p>

<p>背景信息</p>

<p>执行此任务可以调整TCP/IP协议栈的相关参数。</p>

<p>操作步骤</p>

<p>以root用户登录双机中主节点。
调整TCP/IP协议栈参数。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># /usr/sbin/no -o tcp_sendspace=32768
</code></pre>
</div>

<p>屏幕显示信息如下：</p>

<p>Setting tcp_sendspace to 32768
Change to tunable tcp_sendspace, will only be effective for future connections</p>

<div class="highlighter-rouge"><pre class="highlight"><code># /usr/sbin/no -o tcp_recvspace=32768
</code></pre>
</div>

<p>屏幕显示信息如下：</p>

<p>Setting tcp_recvspace to 32768
Change to tunable tcp_recvspace, will only be effective for future connections</p>

<div class="highlighter-rouge"><pre class="highlight"><code># /usr/sbin/no -o tcp_timewait=5
</code></pre>
</div>

<p>屏幕显示信息如下：</p>

<p>Setting tcp_timewait to 5</p>

<p>重新启动系统。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># shutdown -Fr
</code></pre>
</div>

<p>检查TCP/IP协议栈参数是否配置成功。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># no -a | grep tcp
</code></pre>
</div>

<p>在显示信息中查看tcp_sendspace、tcp_recvspace和tcp_timewait的值是否设置正确。</p>

<p>以root用户登录双机中备节点，重复执行2～4。</p>

<p>##调整TCP重传时长和次数</p>

<p>执行此任务可以调整TCP重传时长和次数，包括调整重传最小间隔rto_low、重传最大间隔rto_high、从重传最小间隔到重传最大间隔的重传次数rto_limit和重传最多次数rto_length。</p>

<p>背景信息</p>

<p>调整TCP重传时长（单位s）和次数后，TCP重传将按照“1,2,4,8,8”时间间隔顺序重传，仅需要23秒。如果没有调整，TCP重传按照“1,2，4,8,16,32,64,64,64,64,64,64,64”时间间隔顺序重传，共需要511秒。</p>

<p>操作步骤</p>

<p>以root用户登录双机中主节点。
调整TCP重传时长和次数。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># /usr/sbin/no -r -o rto_low=1
</code></pre>
</div>

<p>屏幕显示信息如下：</p>

<p>Setting rto_low to 1 in nextboot file
Warning: changes will take effect only at next reboot</p>

<div class="highlighter-rouge"><pre class="highlight"><code># /usr/sbin/no -r -o rto_high=8
</code></pre>
</div>

<p>屏幕显示信息如下：</p>

<p>Setting rto_high to 8 in nextboot file
Warning: changes will take effect only at next reboot</p>

<div class="highlighter-rouge"><pre class="highlight"><code># /usr/sbin/no -r -o rto_limit=4
</code></pre>
</div>

<p>屏幕显示信息如下：</p>

<p>Setting rto_limit to 4 in nextboot file
Warning: changes will take effect only at next reboot</p>

<div class="highlighter-rouge"><pre class="highlight"><code># /usr/sbin/no -r -o rto_length=5
</code></pre>
</div>

<p>屏幕显示信息如下：</p>

<p>Setting rto_length to 5 in nextboot file
Warning: changes will take effect only at next reboot</p>

<p>重新启动系统。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># shutdown -Fr
</code></pre>
</div>

<p>检查TCP重传时长和次数是否配置成功。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># no -a | grep rto
</code></pre>
</div>

<p>在显示信息中查看rto_low、rto_high、rto_limit和rto_length的值是否设置正确。</p>

<p>以root用户登录双机中备节点，重复执行2～4。</p>

<p>修改双机主机名</p>

<p>执行此任务可以在配置系统环境之前，检查节点主机名是否符合安装规划要求。</p>

<p>背景信息</p>

<p>执行此任务可以在配置系统环境之前，检查节点主机名是否符合安装规划要求。</p>

<p>操作步骤</p>

<p>以root用户登录双机中主节点。
启动smitty菜单导航工具。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># smitty hostname
</code></pre>
</div>

<p>选择导航菜单，按“Enter”。
—&gt; Set the Hostname
屏幕显示信息如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>                                     Set Hostname

                       Please refer to Help for information
                  concerning hostname / INTERNET address mapping

Type or select values in entry fields.
Press Enter AFTER making all desired changes.

                                                            [Entry Fields]
* HOSTNAME (symbolic name of your machine)           [name01]

F1=Help               F2=Refresh             F3=Cancel              F4=List
Esc+5=Reset           Esc+6=Command          Esc+7=Edit            Esc+8=Image
Esc+9=Shell           Esc+0=Exit             Enter=Do
</code></pre>
</div>

<p>选择“HOSTNAME (symbolic name of your machine)”，在对应的值域框中输入主机名，按“Enter”。
退出smitty菜单导航工具。
重新启动系统。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># shutdown -Fr
</code></pre>
</div>

<p>检查主机名是否修改成功。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># hostname
</code></pre>
</div>

<p>屏幕显示信息如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>name01

# uname -a
</code></pre>
</div>

<p>屏幕显示信息如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>AIX name01 3 5  0000DE25D600
</code></pre>
</div>

<p>以root用户登录双机中备节点，重复执行2～7。</p>

<p>修改双机IP地址</p>

<p>执行此任务可以根据现场IP地址规划要求修改双机的IP地址。</p>

<p>背景信息</p>

<p>执行此任务可以根据现场IP地址规划要求修改双机的IP地址。</p>

<p>操作步骤</p>

<p>以root用户登录双机中主节点。
检查双机所使用的主备网卡名称。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># ifconfig -a
</code></pre>
</div>

<p>屏幕显示信息如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>en0: flags=5e080863,c0&lt;UP,BROADCAST,NOTRAILERS,RUNNING,SIMPLEX,MULTICAST,GROUPRT,64BIT,CHECKSUM_OFFLOAD,PSEG,CHAIN&gt;
    inet 10.10.10.10 netmask 0xfffffe00 broadcast 10.10.10.255
     tcp_sendspace 131072 tcp_recvspace 65536
en2: flags=5e080863,c0&lt;UP,BROADCAST,NOTRAILERS,RUNNING,SIMPLEX,MULTICAST,GROUPRT,64BIT,CHECKSUM_OFFLOAD,PSEG,CHAIN&gt;
    inet 100.10.10.10 netmask 0xfffffe00 broadcast 100.10.10.255
     tcp_sendspace 131072 tcp_recvspace 65536
lo0: flags=e08084b&lt;UP,BROADCAST,LOOPBACK,RUNNING,SIMPLEX,MULTICAST,GROUPRT,64BIT&gt;
    inet 127.0.0.1 netmask 0xff000000 broadcast 127.255.255.255
    inet6 ::1/0
     tcp_sendspace 131072 tcp_recvspace 131072 rfc1323 1
</code></pre>
</div>

<p>从显示信息中可以看出，主备网卡为en0和en2。一般采用en0作为主网卡，en2作为备网卡。
修改双机IP地址</p>

<p>执行此任务可以根据现场IP地址规划要求修改双机的IP地址。</p>

<p>背景信息</p>

<p>执行此任务可以根据现场IP地址规划要求修改双机的IP地址。</p>

<p>操作步骤</p>

<p>以root用户登录双机中主节点。
检查双机所使用的主备网卡名称。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># ifconfig -a
</code></pre>
</div>

<p>屏幕显示信息如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>en0: flags=5e080863,c0&lt;UP,BROADCAST,NOTRAILERS,RUNNING,SIMPLEX,MULTICAST,GROUPRT,64BIT,CHECKSUM_OFFLOAD,PSEG,CHAIN&gt;
    inet 10.10.10.10 netmask 0xfffffe00 broadcast 10.10.10.255
     tcp_sendspace 131072 tcp_recvspace 65536
en2: flags=5e080863,c0&lt;UP,BROADCAST,NOTRAILERS,RUNNING,SIMPLEX,MULTICAST,GROUPRT,64BIT,CHECKSUM_OFFLOAD,PSEG,CHAIN&gt;
    inet 100.10.10.10 netmask 0xfffffe00 broadcast 100.10.10.255
     tcp_sendspace 131072 tcp_recvspace 65536
lo0: flags=e08084b&lt;UP,BROADCAST,LOOPBACK,RUNNING,SIMPLEX,MULTICAST,GROUPRT,64BIT&gt;
    inet 127.0.0.1 netmask 0xff000000 broadcast 127.255.255.255
    inet6 ::1/0
     tcp_sendspace 131072 tcp_recvspace 131072 rfc1323 1
</code></pre>
</div>

<p>从显示信息中可以看出，主备网卡为en0和en2。一般采用en0作为主网卡，en2作为备网卡。</p>

<p>配置主网卡en0对应的IP地址、掩码和网关。
启动smitty菜单导航工具。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># smitty tcpip
</code></pre>
</div>

<p>选择导航菜单，按“Enter”。</p>

<p>—&gt; Minimum Configuration &amp; Startup
—&gt; en0 04-08 Standard Ethernet Network Interface
屏幕显示信息如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>                         Minimum Configuration &amp; Startup

  To Delete existing configuration data, please use Further Configuration menus

Type or select values in entry fields.
Press Enter AFTER making all desired changes.

                                                        [Entry Fields]
* HOSTNAME                                                [name01]
* Internet ADDRESS (dotted decimal)                  [10.10.10.300]
 Network MASK (dotted decimal)                      [255.255.255.0]
* Network INTERFACE                                     en0
 NAMESERVER
       Internet ADDRESS (dotted decimal)         [ ]
       DOMAIN Name                               [ ]
 Default Gateway
   Address (dotted decimal or symbolic name)     [10.10.10.1]
   Cost                                          [0]                                     #
   Do Active Dead Gateway Detection?              no                              +
Your CABLE Type                                     N/A                                 +
 START TCP/IP daemons Now                            no                                +

1=Help               F2=Refresh             F3=Cancel             F4=List
Esc+5=Reset           Esc+6=Command          Esc+7=Edit            Esc+8=Image
Esc+9=Shell           Esc+0=Exit             Enter=Do
</code></pre>
</div>

<p>配置主网卡en0的IP地址、掩码和网关，按“Enter”。</p>

<p>配置“Internet ADDRESS (dotted decimal)”为实际规划的IP地址，如“10.10.10.300”。
配置“Network MASK (hexadecimal or dotted decimal)”为实际规划的掩码，如“255.255.255.0”。
配置“Default Gateway”下的“Address (dotted decimal or symbolic name)”为实际规划的网关IP地址，如“10.10.10.1”。
退出smitty菜单导航工具。</p>

<p>配置备网卡en2对应的IP地址和网关。
启动smitty菜单导航工具。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># smitty tcpip
</code></pre>
</div>

<p>选择导航菜单，按“Enter”。
—&gt; Minimum Configuration &amp; Startup
—&gt; en2 07-08 Standard Ethernet Network Interface
屏幕显示信息如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>                         Minimum Configuration &amp; Startup

  To Delete existing configuration data, please use Further Configuration menus

Type or select values in entry fields.
Press Enter AFTER making all desired changes.

                                                        [Entry Fields]
* HOSTNAME                                                [name01]
* Internet ADDRESS (dotted decimal)                  [100.10.10.300]
  Network MASK (dotted decimal)                      [255.255.255.0]
* Network INTERFACE                                     en2
 NAMESERVER
       Internet ADDRESS (dotted decimal)         [ ]
       DOMAIN Name                               [ ]
 Default Gateway
   Address (dotted decimal or symbolic name)     [10.10.10.1]
   Cost                                          [0]                                     #
   Do Active Dead Gateway Detection?              no                               +
 Your CABLE Type                                     N/A                                  +
 START TCP/IP daemons Now                            no                                 +

1=Help               F2=Refresh             F3=Cancel             F4=List
Esc+5=Reset           Esc+6=Command          Esc+7=Edit            Esc+8=Image
Esc+9=Shell           Esc+0=Exit             Enter=Do
</code></pre>
</div>

<p>配置备网卡en2的IP地址、掩码和网关，按“Enter”。
配置“Internet ADDRESS (dotted decimal)”为实际规划的IP地址，如“100.10.10.300”。
配置“Network MASK (hexadecimal or dotted decimal)”为实际规划的掩码，如“255.255.255.0”。
配置“Default Gateway”下的“Address (dotted decimal or symbolic name)”为实际规划的网关IP地址，如“10.10.10.1”。
退出smitty菜单导航工具。
以root用户登录双机中备节点，重复执行2～4。
修改/etc/hosts文件</p>

<p>执行此任务可以根据现场主机名规划要求和IP地址规划要求修改/etc/hosts文件中的相关信息。</p>

<p>背景信息</p>

<p>执行此任务可以根据现场主机名规划要求和IP地址规划要求修改“/etc/hosts”文件中的相关信息。</p>

<p>操作步骤</p>

<p>以root用户登录双机中主节点。
编辑“/etc/hosts”文件。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>#vi /etc/hosts
</code></pre>
</div>

<p>修改文件中以下内容,具体请参考“双机组网IP地址规划”：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>127.0.0.1  loopback localhost      name01  # loopback (lo0)name/address
192.168.10.100   service_ip                       # 浮动IP地址和逻辑主机名。如果有多个浮动IP地址，请添加新的一行，输入浮动IP地址和对应的逻辑主机名

10.10.10.10    name01_boot1   name01   # 主节点主用IP地址、主用网卡标签和主机名

10.10.10.11    name02_boot1   name02   # 备节点主用IP地址、主用网卡标签和主机名

100.10.10.10   name01_boot2                 # 主节点备用IP地址和备用网卡标签

100.10.10.11  name02_boot2                 # 备节点备用IP地址和备用网卡标签

192.168.10.200   name01_per     # 主节点persistent IP地址和persistent IP标签
192.168.10.201   name02_per     # 备节点persistent IP地址和persistent IP标签
</code></pre>
</div>

<p>以root用户登录双机中备节点，重复执行2。
##配置心跳线TTY</p>

<p>执行此任务可以配置TTY（Teletype）设备，作为双机的通信设备使心跳信号通信正常。</p>

<p>背景信息</p>

<p>执行此任务可以配置TTY（Teletype）设备，作为双机的通信设备使心跳信号通信正常。</p>

<p>操作步骤</p>

<p>以root用户登录双机中主节点。
检查TTY是否配置。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>#lsdev -Cc tty
</code></pre>
</div>

<p>屏幕显示信息如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>tty0 Available 06-08-01-00 Asynchronous Terminal
vty0 Available                Asynchronous Terminal
vty1 Available                Asynchronous Terminal
</code></pre>
</div>

<p>如果显示结果中含TTY标识的设备（一般为tty0），且状态为“Available”，则表示串口已经配置。</p>

<p>如果没有配置TTY，请配置TTY。
启动smitty菜单导航工具。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># smitty tty
</code></pre>
</div>

<p>选择导航菜单，按“Enter”。
—&gt;Add a TTY
—&gt;tty rs232 Asynchronous Terminal
—&gt; sa0 Available 01-S1 Standard I/O Serial Port
屏幕显示信息如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Type or select values in entry fields.
Press Enter AFTER making all desired changes.

[TOP]                                                   [Entry Fields]
  TTY type                                            tty
 TTY interface                                       rs232
  Description                                         Asynchronous Terminal
 Parent adapter                                      sa0
* PORT number                                        [0]                            +
  Enable LOGIN                                        disable                      +
  BAUD rate                                          []                            +
  PARITY                                             [none]                        +
 BITS per character                                 [8]                           +
Number of STOP BITS                                [1]                           +
TIME before advancing to next port setting         [0]                           +#
 TERMINAL type                                      [dumb]
 FLOW CONTROL to be used                            [xon]                         +
 OPEN DISCIPLINE to be used                         [dtropen]                     +
STTY attributes for RUN time                       [hupcl,cread,brkint,icrnl,opost,&gt; +
STTY attributes for LOGIN                          [hupcl,cread,echoe,cs8]
LOGGER name                                        []
STATUS of device at BOOT time                      [available]                   +
 STREAMS modules to be pushed at OPEN time          [ldterm]                      +
Transparent Print ON String                        []
Transparent Print OFF String                       []
Transparent Print Maximum Characters per Second    []                            +#
Transparent Print Maximum Character Packet Size    []                            +#
Transparent Print Buffer Size                      []                            +#
[MORE...24]

F1=Help               F2=Refresh             F3=Cancel             F4=List
Esc+5=Reset           Esc+6=Command          Esc+7=Edit            Esc+8=Image
Esc+9=Shell           Esc+0=Exit             Enter=Do
</code></pre>
</div>

<p>选择“PORT number”，在对应的值域框中输入端口号“0”，按“Enter”。
退出smitty菜单导航工具。
以root用户登录双机中备节点，重复执行2～3。
检查TTY连通性。
在双机中主节点检查连通性。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># cat &lt; /dev/tty0
</code></pre>
</div>

<p>以root用户登录双机中备节点检查连通性。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># cat /etc/hosts &gt; /dev/tty0
</code></pre>
</div>

<p>在双机中主节点上观察显示的数据是否正确，并确保没有乱码。
配置AIX系统互信文件</p>

<p>执行此任务可以配置AIX系统互信文件/.rhosts，建立AIX系统之间的双机信任关系。</p>

<p>背景信息</p>

<p>执行此任务可以配置AIX系统互信文件“/.rhosts”，建立AIX系统之间的双机信任关系。</p>

<p>信任关系指一台远程服务器的用户以相同的用户名接入到另外一台服务器，而无需提供口令。双机之间建立信任关系后，可以使用“rcp”和“rlogin”等命令。</p>

<p>操作步骤</p>

<p>以root用户登录双机中主节点。
创建“/.rhosts”文件。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># vi /.rhosts
</code></pre>
</div>

<p>在文件中添加以下内容：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>service_ip             # 浮动IP地址对应的逻辑主机名。如果有多个浮动IP地址，请添加新的一行，输入浮动IP地址对应的逻辑主机名

name01              # 主节点的主机名

name02              # 备节点的主机名

name01_boot1       # 主节点的主用网卡标签
name02_boot1       # 备节点的主用网卡标签
name01_boot2       # 主节点的备用网卡标签
name02_boot2       # 备节点的备用网卡标签
name01_per # 主节点persistent IP地址
name02_per # 备节点persistent IP地址
</code></pre>
</div>

<p>注意：
“/.rhosts”文件中定义的主机名和网卡标签必须与“/etc/hosts”文件中定义的名称保持一致。</p>

<p>修改“/.rhosts”文件权限。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># chmod 600 /.rhosts
</code></pre>
</div>

<p>以root用户登录双机中备节点，重复执行2～3。
检查信任关系是否建立成功。
在备节点以root用户验证信任关系是否建立成功。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># rlogin name02
</code></pre>
</div>

<p>正常情况下，能够以root用户登录到双机中主节点。</p>

<p>在主节点以root用户验证信任关系是否建立成功。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># rlogin name01
</code></pre>
</div>

<p>正常情况下，能够以root用户登录到双机中备节点。</p>

<p>配置HACMP集群互信文件</p>

<p>执行此任务可以配置HACMP集群互信文件/usr/es/sbin/cluster/etc/rhosts。</p>

<p>背景信息</p>

<p>执行此任务可以配置HACMP集群互信文件“/usr/es/sbin/cluster/etc/rhosts”。</p>

<p>操作步骤</p>

<p>以root用户登录双机中主节点。
创建“/usr/es/sbin/cluster/etc/rhosts”文件。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>#vi /usr/es/sbin/cluster/etc/rhosts
</code></pre>
</div>

<p>在文件中添加以下内容：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Service_ip             # 浮动IP地址对应的逻辑主机名。如果有多个浮动IP地址，请添加新的一行，输入浮动IP地址对应的逻辑主机名

name01              # 主节点的主机名

name02              # 备节点的主机名

name01_boot1       # 主节点的主用网卡标签
name02_boot1       # 备节点的主用网卡标签
name01_boot2       # 主节点的备用网卡标签
name02_boot2       # 备节点的备用网卡标签
name01_per # 主节点persistent IP地址
name02_per # 备节点persistent IP地址
</code></pre>
</div>

<p>注意：
“/usr/es/sbin/cluster/etc/rhosts”文件中定义的主机名和网卡标签必须与“/etc/hosts”文件中定义的名称保持一致。</p>

<p>以root用户登录双机中备节点，重复执行2。
启动双机配置程序</p>

<p>选择其中一个节点完成以下操作，假设选择节点name1完成操作。</p>

<p>输入命令：smit hacmp。</p>

<p>按“Enter”后屏幕显示如下信息，表明已启动了双机配置程序。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>HACMP for AIX

Move cursor to desired item and press Enter.

Initialization and Standard Configuration
Extended Configuration
System Management (C-SPOC)
Problem Determination Tools
</code></pre>
</div>



                <hr style="visibility: hidden;">

                <ul class="pager">
                    
                    
                    <li class="next">
                        <a href="/2017/08/23/vi-vim/" data-toggle="tooltip" data-placement="top" title="vim／vi编辑器快捷键">
                        Next<br>
                        <span>vim／vi编辑器快捷键</span>
                        </a>
                    </li>
                    
                </ul>


                
            </div>  

    <!-- Side Catalog Container -->
        
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
        

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
        				
                            
                				<a href="/tags/#linux" title="linux" rel="2">
                                    linux
                                </a>
                            
        				
                            
                				<a href="/tags/#unix" title="unix" rel="2">
                                    unix
                                </a>
                            
        				
                            
        				
                            
        				
        				<!-- 来必力City版安装代码 -->
        				<p>分享：</P>
        				<div class="bdsharebuttonbox"><a href="#" class="bds_more" data-cmd="more"></a><a href="#" class="bds_mshare" data-cmd="mshare" title="分享到一键分享"></a><a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a href="#" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a><a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a><a href="#" class="bds_tieba" data-cmd="tieba" title="分享到百度贴吧"></a><a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a><a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"></a><a href="#" class="bds_evernotecn" data-cmd="evernotecn" title="分享到印象笔记"></a><a href="#" class="bds_youdao" data-cmd="youdao" title="分享到有道云笔记"></a><a href="#" class="bds_mail" data-cmd="mail" title="分享到邮件分享"></a></div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["mshare","weixin","tsina","sqq","qzone","douban","tieba","tqq","renren","evernotecn","youdao","mail"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["mshare","weixin","tsina","sqq","qzone","douban","tieba","tqq","renren","evernotecn","youdao","mail"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
        			<!-- 评论系统代码 -->	
        			
<div id="lv-container" data-id="city" data-uid="MTAyMC8zMDYxOS83MTc0">
<script type="text/javascript">
   (function(d, s) {
       var j, e = d.getElementsByTagName(s)[0];

       if (typeof LivereTower === 'function') { return; }

       j = d.createElement(s);
       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
       j.async = true;

       e.parentNode.insertBefore(j, e);
   })(document, 'script');
</script>
<noscript>为正常使用来必力评论功能请激活JavaScript</noscript>
</div>
<!-- City版安装代码已完成 -->
                	</section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">
                    
                        <li><a href="http://zuoruoning.github.io">Ruining.z Blog</a></li>
                    
                        <li><a href="http://www.cnblogs.com/zuoruining/">cnblogs</a></li>
                    
                        <li><a href="#"></a></li>
                    
                        <li><a href="#"></a></li>
                    
                        <li><a href="#">more</a></li>
                    
                </ul>
                
            </div>
        </div>
    </div>
</article>









<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>
<!-- LiveRe 评论系统代码 -->

<!-- completed City install code -->



    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                    

                    <!-- add Weibo, Zhihu by Hux, add target = "_blank" to <a> by Hux -->
                    
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/2403846162">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a target="_blank" href="http://weibo.com/xinaogudu">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    


                    
                    
                    <li>
                        <a target="_blank" href="https://github.com/zuoruoning">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Ruining.z Blog 2017
                    <br>
                    Powered by <a href="http://jekyll.com.cn/">jekyll</a>
                </p>
            </div>
        </div>
    </div>






</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js "></script>


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?4404257815879f789ef46c96c688cbc3";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- Highlight.js -->
<script>
    async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
        hljs.initHighlightingOnLoad();
    })
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>
<link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">

<!--fastClick.js -->
<script>
    async("http://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->

<script>
    // 
    var _gaId = 'UA-75516959-1';
    var _gaDomain = 'playingfingers.com';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>



<!-- Baidu Tongji -->

<script>
    // dynamic User by ZRN
    var _baId = 'd59d067e8500ddc9aafddb11c2cdc1ab';

    // Originial
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?" + _baId;
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
</script>




<!-- Image to hack wechat -->
<img src="/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
